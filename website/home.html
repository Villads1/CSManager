<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CS Manager | Home</title>
    <meta name="description" content="CS Manager Dashboard - Your esports management command center">
    <link rel="stylesheet" href="dashboard.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <!-- Logo -->
            <a href="home.html" class="nav-logo">
                <span class="logo-icon">üéÆ</span>
                <span class="logo-text">CS<span class="accent">Manager</span></span>
            </a>

            <!-- Main Navigation -->
            <ul class="nav-menu">
                <li class="nav-item active">
                    <a href="home.html" class="nav-link">Home</a>
                </li>
                <li class="nav-item has-dropdown">
                    <a href="#" class="nav-link">
                        Matches
                        <span class="dropdown-arrow">‚ñæ</span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="#">Matches</a></li>
                        <li><a href="#">Results</a></li>
                    </ul>
                </li>
                <li class="nav-item has-dropdown">
                    <a href="#" class="nav-link">
                        Events
                        <span class="dropdown-arrow">‚ñæ</span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="#">Events</a></li>
                        <li><a href="#">Archive</a></li>
                    </ul>
                </li>
                <li class="nav-item has-dropdown">
                    <a href="#" class="nav-link">
                        Players
                        <span class="dropdown-arrow">‚ñæ</span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="#">All Players</a></li>
                        <li><a href="#">Transfers</a></li>
                    </ul>
                </li>
                <li class="nav-item has-dropdown">
                    <a href="#" class="nav-link">
                        Stats
                        <span class="dropdown-arrow">‚ñæ</span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="#">Stats Overview</a></li>
                        <li><a href="#">Top Players</a></li>
                        <li><a href="#">Top Teams</a></li>
                    </ul>
                </li>
            </ul>

            <!-- Right Side Actions -->
            <div class="nav-actions">
                <div class="search-container" id="searchContainer">
                    <button class="search-btn" id="searchBtn" aria-label="Search">
                        <span class="search-icon">üîç</span>
                    </button>
                    <input type="text" class="search-input" id="searchInput" placeholder="Search teams, players...">
                </div>
                <a href="#" class="my-team-btn">
                    <span class="team-icon">‚ö°</span>
                    My Team
                </a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="dashboard">
        <div class="dashboard-container">

            <!-- Left Sidebar -->
            <aside class="sidebar sidebar-left">
                <!-- Player of the Week -->
                <section class="widget player-of-week">
                    <div class="widget-header">
                        <h3>Player of the Week</h3>
                        <span class="widget-badge purple">MVP</span>
                    </div>
                    <div class="potw-card">
                        <div class="potw-avatar">
                            <div class="avatar-ring">
                                <img src="images/Player Images/donk.png" alt="donk" class="avatar-img">
                            </div>
                            <span class="potw-rating">96</span>
                        </div>
                        <div class="potw-info">
                            <h4 class="potw-name">donk</h4>
                            <span class="potw-team">
                                <img src="images/Team Logos/Spirit.png" alt="Spirit" class="team-logo-sm">
                                Team Spirit
                            </span>
                        </div>
                        <div class="potw-stats">
                            <div class="potw-stat">
                                <span class="stat-value green">1.42</span>
                                <span class="stat-label">Rating</span>
                            </div>
                            <div class="potw-stat">
                                <span class="stat-value cyan">87.3%</span>
                                <span class="stat-label">KAST</span>
                            </div>
                            <div class="potw-stat">
                                <span class="stat-value orange">28.4</span>
                                <span class="stat-label">ADR</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- World Rankings -->
                <section class="widget rankings">
                    <div class="widget-header">
                        <h3>World Rankings</h3>
                        <a href="#" class="widget-link">View all <span class="arrow-icon">‚ûú</span></a>
                    </div>
                    <ul class="rankings-list">
                        <li class="ranking-item">
                            <span class="rank">#1</span>
                            <img src="images/Team Logos/Spirit.png" alt="Spirit" class="team-logo-sm">
                            <span class="team-name">Spirit</span>
                            <span class="points">1000</span>
                        </li>
                        <li class="ranking-item">
                            <span class="rank">#2</span>
                            <img src="images/Team Logos/G2.png" alt="G2" class="team-logo-sm">
                            <span class="team-name">G2</span>
                            <span class="points">892</span>
                        </li>
                        <li class="ranking-item">
                            <span class="rank">#3</span>
                            <img src="images/Team Logos/Natus Vincere.png" alt="NAVI" class="team-logo-sm">
                            <span class="team-name">NAVI</span>
                            <span class="points">845</span>
                        </li>
                        <li class="ranking-item">
                            <span class="rank">#4</span>
                            <img src="images/Team Logos/FaZe.png" alt="FaZe" class="team-logo-sm">
                            <span class="team-name">FaZe</span>
                            <span class="points">798</span>
                        </li>
                        <li class="ranking-item">
                            <span class="rank">#5</span>
                            <img src="images/Team Logos/Vitality.png" alt="Vitality" class="team-logo-sm">
                            <span class="team-name">Vitality</span>
                            <span class="points">756</span>
                        </li>
                    </ul>
                </section>

                <!-- Today's Matches (Compact) - V1 ONLY -->
                <section class="widget todays-matches v1-only">
                    <div class="widget-header">
                        <h3>Today's Matches</h3>
                        <span class="match-count">6 matches</span>
                    </div>
                    <ul class="matches-list compact">
                        <li class="match-item live">
                            <span class="match-status live-badge">LIVE</span>
                            <div class="match-teams-compact">
                                <span class="team-with-logo"><img src="images/Team Logos/Spirit.png" alt="Spirit"
                                        class="team-logo-xs">Spirit</span>
                                <span class="score">13-10</span>
                                <span class="team-with-logo">G2 <img src="images/Team Logos/G2.png" alt="G2"
                                        class="team-logo-xs"></span>
                            </div>
                        </li>
                        <li class="match-item">
                            <span class="match-time">14:00</span>
                            <div class="match-teams-compact">
                                <span class="team-with-logo"><img src="images/Team Logos/Natus Vincere.png" alt="NAVI"
                                        class="team-logo-xs">NAVI</span>
                                <span class="vs">vs</span>
                                <span class="team-with-logo">FaZe <img src="images/Team Logos/FaZe.png" alt="FaZe"
                                        class="team-logo-xs"></span>
                            </div>
                        </li>
                        <li class="match-item">
                            <span class="match-time">16:30</span>
                            <div class="match-teams-compact">
                                <span class="team-with-logo"><img src="images/Team Logos/Vitality.png" alt="Vitality"
                                        class="team-logo-xs">Vitality</span>
                                <span class="vs">vs</span>
                                <span class="team-with-logo">MOUZ <img src="images/Team Logos/MOUZ.png" alt="MOUZ"
                                        class="team-logo-xs"></span>
                            </div>
                        </li>
                        <li class="match-item">
                            <span class="match-time">19:00</span>
                            <div class="match-teams-compact">
                                <span class="team-with-logo"><img src="images/Team Logos/Liquid.png" alt="Liquid"
                                        class="team-logo-xs">Liquid</span>
                                <span class="vs">vs</span>
                                <span class="team-with-logo">Astralis <img src="images/Team Logos/Astralis.png"
                                        alt="Astralis" class="team-logo-xs"></span>
                            </div>
                        </li>
                    </ul>
                </section>

                <!-- Recent Transfers - V2 ONLY (left sidebar) -->
                <section class="widget recent-transfers compact v2-only">
                    <div class="widget-header">
                        <h3>Recent Transfers</h3>
                        <a href="#" class="widget-link">Hub <span class="arrow-icon">‚ûú</span></a>
                    </div>
                    <ul class="transfers-list">
                        <li class="transfer-item">
                            <div class="player-mini">
                                <span class="player-avatar-sm">üë§</span>
                                <span class="player-name">cadiaN</span>
                            </div>
                            <div class="transfer-flow">
                                <span class="from-team">Heroic</span>
                                <span class="arrow">‚ûú</span>
                                <span class="to-team">G2</span>
                            </div>
                        </li>
                        <li class="transfer-item">
                            <div class="player-mini">
                                <span class="player-avatar-sm">üë§</span>
                                <span class="player-name">huNter</span>
                            </div>
                            <div class="transfer-flow">
                                <span class="from-team">G2</span>
                                <span class="arrow">‚ûú</span>
                                <span class="to-team">FaZe</span>
                            </div>
                        </li>
                        <li class="transfer-item">
                            <div class="player-mini">
                                <span class="player-avatar-sm">üë§</span>
                                <span class="player-name">Twistzz</span>
                            </div>
                            <div class="transfer-flow">
                                <span class="from-team">FaZe</span>
                                <span class="arrow">‚ûú</span>
                                <span class="to-team">Liquid</span>
                            </div>
                        </li>
                    </ul>
                </section>
            </aside>

            <!-- Center Column - News -->
            <section class="main-content">
                <!-- Featured Article - V1 and V2 only -->
                <article class="featured-article v1-v2-only">
                    <div class="featured-image">
                        <div class="image-placeholder">
                            <span>üèÜ</span>
                        </div>
                        <span class="featured-tag orange">Featured</span>
                    </div>
                    <div class="featured-content">
                        <span class="article-date">December 18, 2025</span>
                        <h2 class="featured-title">Spirit Completes Historic Major Three-Peat with Dominant Grand Final
                            Victory</h2>
                        <p class="featured-excerpt">Team Spirit have cemented their legacy as the greatest CS2 roster of
                            all time with a commanding 3-1 victory over FaZe Clan in the Austin Major Grand Final...</p>
                        <a href="#" class="read-more">Read full article <span class="arrow-icon">‚ûú</span></a>
                    </div>
                </article>

                <!-- Match Overview Widget - V2.5 ONLY -->
                <section class="match-overview v2-5-only" id="matchOverview">
                    <!-- Main wrapper for horizontal layout: left content + map history -->
                    <div class="match-overview-wrapper">
                        <!-- Left side: Event header, teams, rosters -->
                        <div class="match-overview-main">
                            <!-- Event Header -->
                            <div class="match-overview-event">
                                <span class="event-badge">üèÜ IEM Cologne 2025</span>
                                <span class="match-status-badge live">LIVE</span>
                            </div>

                            <!-- Teams Header -->
                            <div class="match-overview-teams">
                                <div class="team-side team-left">
                                    <img src="images/Team Logos/Spirit.png" alt="Spirit" class="team-logo-lg">
                                    <span class="team-name">Spirit</span>
                                    <span class="team-score win">13</span>
                                </div>
                                <div class="match-vs">
                                    <span class="current-map">Mirage</span>
                                    <span class="round-indicator">Round 23</span>
                                </div>
                                <div class="team-side team-right">
                                    <img src="images/Team Logos/G2.png" alt="G2" class="team-logo-lg">
                                    <span class="team-name">G2</span>
                                    <span class="team-score lose">10</span>
                                </div>
                            </div>

                            <!-- Content area: Rosters -->
                            <div class="match-overview-content">
                                <!-- Rosters -->
                                <div class="rosters-container">
                                    <!-- Team 1 Roster -->
                                    <div class="roster team1-roster">
                                        <div class="player-card">
                                            <img src="images/Player Images/donk.png" alt="donk" class="player-avatar">
                                            <div class="player-info">
                                                <span class="player-name">donk</span>
                                                <span class="player-role opener">Opener</span>
                                            </div>
                                            <div class="player-stats">
                                                <span class="kills">28</span>
                                                <span class="deaths">14</span>
                                            </div>
                                        </div>
                                        <div class="player-card">
                                            <img src="images/Player Images/magixx.png" alt="magixx"
                                                class="player-avatar">
                                            <div class="player-info">
                                                <span class="player-name">magixx</span>
                                                <span class="player-role closer">Closer</span>
                                            </div>
                                            <div class="player-stats">
                                                <span class="kills">22</span>
                                                <span class="deaths">16</span>
                                            </div>
                                        </div>
                                        <div class="player-card">
                                            <img src="images/Player Images/zont1x.png" alt="zont1x"
                                                class="player-avatar">
                                            <div class="player-info">
                                                <span class="player-name">zont1x</span>
                                                <span class="player-role support">Support</span>
                                            </div>
                                            <div class="player-stats">
                                                <span class="kills">19</span>
                                                <span class="deaths">15</span>
                                            </div>
                                        </div>
                                        <div class="player-card">
                                            <img src="images/Player Images/sh1ro.png" alt="sh1ro" class="player-avatar">
                                            <div class="player-info">
                                                <span class="player-name">sh1ro</span>
                                                <span class="player-role awp">AWP</span>
                                            </div>
                                            <div class="player-stats">
                                                <span class="kills">20</span>
                                                <span class="deaths">12</span>
                                            </div>
                                        </div>
                                        <div class="player-card">
                                            <div class="player-avatar placeholder">üë§</div>
                                            <div class="player-info">
                                                <span class="player-name">chopper</span>
                                                <span class="player-role igl">IGL</span>
                                            </div>
                                            <div class="player-stats">
                                                <span class="kills">15</span>
                                                <span class="deaths">18</span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Team 2 Roster -->
                                    <div class="roster team2-roster">
                                        <div class="player-card">
                                            <div class="player-avatar placeholder">üë§</div>
                                            <div class="player-info">
                                                <span class="player-name">NiKo</span>
                                                <span class="player-role opener">Opener</span>
                                            </div>
                                            <div class="player-stats">
                                                <span class="kills">21</span>
                                                <span class="deaths">18</span>
                                            </div>
                                        </div>
                                        <div class="player-card">
                                            <div class="player-avatar placeholder">üë§</div>
                                            <div class="player-info">
                                                <span class="player-name">huNter</span>
                                                <span class="player-role closer">Closer</span>
                                            </div>
                                            <div class="player-stats">
                                                <span class="kills">18</span>
                                                <span class="deaths">20</span>
                                            </div>
                                        </div>
                                        <div class="player-card">
                                            <div class="player-avatar placeholder">üë§</div>
                                            <div class="player-info">
                                                <span class="player-name">HooXi</span>
                                                <span class="player-role igl">IGL</span>
                                            </div>
                                            <div class="player-stats">
                                                <span class="kills">12</span>
                                                <span class="deaths">22</span>
                                            </div>
                                        </div>
                                        <div class="player-card">
                                            <div class="player-avatar placeholder">üë§</div>
                                            <div class="player-info">
                                                <span class="player-name">m0NESY</span>
                                                <span class="player-role awp">AWP</span>
                                            </div>
                                            <div class="player-stats">
                                                <span class="kills">24</span>
                                                <span class="deaths">17</span>
                                            </div>
                                        </div>
                                        <div class="player-card">
                                            <div class="player-avatar placeholder">üë§</div>
                                            <div class="player-info">
                                                <span class="player-name">nexa</span>
                                                <span class="player-role support">Support</span>
                                            </div>
                                            <div class="player-stats">
                                                <span class="kills">14</span>
                                                <span class="deaths">19</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Map History (vertical sidebar on right, spans full height) -->
                        <div class="map-history">
                            <div class="map-item picked team1">
                                <span class="map-name">Mirage</span>
                                <span class="map-score">13-10</span>
                                <span class="map-status live">‚óè</span>
                            </div>
                            <div class="map-item picked team2">
                                <span class="map-name">Inferno</span>
                                <span class="map-score">‚Äî</span>
                            </div>
                            <div class="map-item decider">
                                <span class="map-name">Anubis</span>
                                <span class="map-score">‚Äî</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Match Overview V2 - Horizontal Stats Layout -->
                <section class="match-overview match-overview-v2-section v2-5-only" id="matchOverviewV2"
                    style="display: none;">
                    <!-- Top Header: Event + Map Tabs + Live Badge -->
                    <div class="mo-v2-header">
                        <span class="event-badge">üèÜ IEM Cologne 2025</span>

                        <!-- Map Tabs -->
                        <div class="mo-v2-map-tabs">
                            <button class="map-tab" data-map="ancient">
                                <span class="map-tab-name">Ancient</span>
                                <span class="map-tab-score team1-win">16 - 8</span>
                            </button>
                            <button class="map-tab active" data-map="mirage">
                                <span class="map-tab-name">Mirage</span>
                                <span class="map-tab-score">13-10</span>
                            </button>
                            <button class="map-tab" data-map="nuke">
                                <span class="map-tab-name">Nuke</span>
                                <span class="map-tab-score upcoming">Decider</span>
                            </button>
                        </div>

                        <span class="match-status-badge live">LIVE</span>
                    </div>

                    <!-- Teams Header -->
                    <div class="mo-v2-teams">
                        <div class="mo-v2-team team-left">
                            <img src="images/Team Logos/Spirit.png" alt="Spirit" class="team-logo-lg">
                            <span class="team-name">Spirit</span>
                            <span class="team-score win" id="v2Team1Score">13</span>
                        </div>
                        <div class="mo-v2-center">
                            <span class="current-map" id="v2CurrentMap">MIRAGE</span>
                            <span class="round-indicator">Round 23</span>
                        </div>
                        <div class="mo-v2-team team-right">
                            <span class="team-score lose" id="v2Team2Score">10</span>
                            <span class="team-name">G2</span>
                            <img src="images/Team Logos/G2.png" alt="G2" class="team-logo-lg">
                        </div>
                    </div>

                    <!-- Stats Header Row -->
                    <div class="mo-v2-stats-header">
                        <div class="stats-header-left">
                            <span class="stat-label">K</span>
                            <span class="stat-label">A</span>
                            <span class="stat-label">D</span>
                            <span class="stat-label">ADR</span>
                        </div>
                        <div class="stats-header-divider"></div>
                        <div class="stats-header-right">
                            <span class="stat-label">ADR</span>
                            <span class="stat-label">D</span>
                            <span class="stat-label">A</span>
                            <span class="stat-label">K</span>
                        </div>
                    </div>

                    <!-- Player Rows -->
                    <div class="mo-v2-players" id="v2PlayersContainer">
                        <!-- Row 1 -->
                        <div class="mo-v2-player-row">
                            <div class="player-left">
                                <img src="images/Player Images/donk.png" alt="donk" class="player-avatar-sm">
                                <div class="player-info-compact">
                                    <span class="player-name">donk</span>
                                    <span class="player-role opener">OPENER</span>
                                </div>
                            </div>
                            <div class="player-stats-left">
                                <span class="stat-k">28</span>
                                <span class="stat-a">4</span>
                                <span class="stat-d">14</span>
                                <span class="stat-adr">118</span>
                            </div>
                            <div class="player-row-divider"></div>
                            <div class="player-stats-right">
                                <span class="stat-adr">118</span>
                                <span class="stat-d">14</span>
                                <span class="stat-a">4</span>
                                <span class="stat-k">28</span>
                            </div>
                            <div class="player-right">
                                <div class="player-info-compact">
                                    <span class="player-name">NiKo</span>
                                    <span class="player-role opener">OPENER</span>
                                </div>
                                <div class="player-avatar-sm placeholder">üë§</div>
                            </div>
                        </div>

                        <!-- Row 2 -->
                        <div class="mo-v2-player-row">
                            <div class="player-left">
                                <img src="images/Player Images/magixx.png" alt="magixx" class="player-avatar-sm">
                                <div class="player-info-compact">
                                    <span class="player-name">magixx</span>
                                    <span class="player-role closer">CLOSER</span>
                                </div>
                            </div>
                            <div class="player-stats-left">
                                <span class="stat-k">28</span>
                                <span class="stat-a">4</span>
                                <span class="stat-d">14</span>
                                <span class="stat-adr">118</span>
                            </div>
                            <div class="player-row-divider"></div>
                            <div class="player-stats-right">
                                <span class="stat-adr">118</span>
                                <span class="stat-d">14</span>
                                <span class="stat-a">4</span>
                                <span class="stat-k">28</span>
                            </div>
                            <div class="player-right">
                                <div class="player-info-compact">
                                    <span class="player-name">huNter</span>
                                    <span class="player-role closer">CLOSER</span>
                                </div>
                                <div class="player-avatar-sm placeholder">üë§</div>
                            </div>
                        </div>

                        <!-- Row 3 -->
                        <div class="mo-v2-player-row">
                            <div class="player-left">
                                <img src="images/Player Images/zont1x.png" alt="zont1x" class="player-avatar-sm">
                                <div class="player-info-compact">
                                    <span class="player-name">zont1x</span>
                                    <span class="player-role support">SUPPORT</span>
                                </div>
                            </div>
                            <div class="player-stats-left">
                                <span class="stat-k">28</span>
                                <span class="stat-a">4</span>
                                <span class="stat-d">14</span>
                                <span class="stat-adr">118</span>
                            </div>
                            <div class="player-row-divider"></div>
                            <div class="player-stats-right">
                                <span class="stat-adr">118</span>
                                <span class="stat-d">14</span>
                                <span class="stat-a">4</span>
                                <span class="stat-k">28</span>
                            </div>
                            <div class="player-right">
                                <div class="player-info-compact">
                                    <span class="player-name">HooXi</span>
                                    <span class="player-role igl">IGL</span>
                                </div>
                                <div class="player-avatar-sm placeholder">üë§</div>
                            </div>
                        </div>

                        <!-- Row 4 -->
                        <div class="mo-v2-player-row">
                            <div class="player-left">
                                <img src="images/Player Images/sh1ro.png" alt="sh1ro" class="player-avatar-sm">
                                <div class="player-info-compact">
                                    <span class="player-name">sh1ro</span>
                                    <span class="player-role awp">AWP</span>
                                </div>
                            </div>
                            <div class="player-stats-left">
                                <span class="stat-k">28</span>
                                <span class="stat-a">4</span>
                                <span class="stat-d">14</span>
                                <span class="stat-adr">118</span>
                            </div>
                            <div class="player-row-divider"></div>
                            <div class="player-stats-right">
                                <span class="stat-adr">118</span>
                                <span class="stat-d">14</span>
                                <span class="stat-a">4</span>
                                <span class="stat-k">28</span>
                            </div>
                            <div class="player-right">
                                <div class="player-info-compact">
                                    <span class="player-name">m0NESY</span>
                                    <span class="player-role awp">AWP</span>
                                </div>
                                <div class="player-avatar-sm placeholder">üë§</div>
                            </div>
                        </div>

                        <!-- Row 5 -->
                        <div class="mo-v2-player-row">
                            <div class="player-left">
                                <div class="player-avatar-sm placeholder">üë§</div>
                                <div class="player-info-compact">
                                    <span class="player-name">chopper</span>
                                    <span class="player-role igl">IGL</span>
                                </div>
                            </div>
                            <div class="player-stats-left">
                                <span class="stat-k">28</span>
                                <span class="stat-a">4</span>
                                <span class="stat-d">14</span>
                                <span class="stat-adr">118</span>
                            </div>
                            <div class="player-row-divider"></div>
                            <div class="player-stats-right">
                                <span class="stat-adr">118</span>
                                <span class="stat-d">14</span>
                                <span class="stat-a">4</span>
                                <span class="stat-k">28</span>
                            </div>
                            <div class="player-right">
                                <div class="player-info-compact">
                                    <span class="player-name">nexa</span>
                                    <span class="player-role support">SUPPORT</span>
                                </div>
                                <div class="player-avatar-sm placeholder">üë§</div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- News Grid -->
                <div class="news-grid">
                    <article class="news-card">
                        <div class="news-image">
                            <div class="image-placeholder small">
                                <span>üí∞</span>
                            </div>
                        </div>
                        <div class="news-content">
                            <span class="news-category cyan">Transfers</span>
                            <h3 class="news-title">G2 Complete ‚Ç¨1.2M Signing of Rising Danish Talent</h3>
                            <span class="news-meta">2 hours ago</span>
                        </div>
                    </article>
                    <article class="news-card">
                        <div class="news-image">
                            <div class="image-placeholder small">
                                <span>üìä</span>
                            </div>
                        </div>
                        <div class="news-content">
                            <span class="news-category green">Rankings</span>
                            <h3 class="news-title">NAVI Drop to #3 After Early Major Exit</h3>
                            <span class="news-meta">5 hours ago</span>
                        </div>
                    </article>
                    <article class="news-card">
                        <div class="news-image">
                            <div class="image-placeholder small">
                                <span>üéÆ</span>
                            </div>
                        </div>
                        <div class="news-content">
                            <span class="news-category purple">Events</span>
                            <h3 class="news-title">BLAST Premier Spring Groups Announced</h3>
                            <span class="news-meta">8 hours ago</span>
                        </div>
                    </article>
                    <article class="news-card">
                        <div class="news-image">
                            <div class="image-placeholder small">
                                <span>‚öîÔ∏è</span>
                            </div>
                        </div>
                        <div class="news-content">
                            <span class="news-category orange">Match</span>
                            <h3 class="news-title">FaZe vs Vitality Preview: Battle for Top 5</h3>
                            <span class="news-meta">12 hours ago</span>
                        </div>
                    </article>
                </div>

                <!-- More Articles -->
                <section class="articles-list">
                    <div class="section-header">
                        <h3>Latest News</h3>
                        <a href="#" class="view-all">View all articles <span class="arrow-icon">‚ûú</span></a>
                    </div>
                    <ul class="article-items">
                        <li class="article-item">
                            <span class="article-category cyan">Transfers</span>
                            <a href="#" class="article-link">Heroic Reportedly in Talks with ENCE Star</a>
                            <span class="article-time">14h ago</span>
                        </li>
                        <li class="article-item">
                            <span class="article-category green">Interview</span>
                            <a href="#" class="article-link">donk: "We're Not Done Winning Yet"</a>
                            <span class="article-time">18h ago</span>
                        </li>
                        <li class="article-item">
                            <span class="article-category purple">Analysis</span>
                            <a href="#" class="article-link">Why the AWP Meta is Shifting in 2025</a>
                            <span class="article-time">1d ago</span>
                        </li>
                        <li class="article-item">
                            <span class="article-category orange">Events</span>
                            <a href="#" class="article-link">IEM Cologne Prize Pool Revealed: $1.5M</a>
                            <span class="article-time">1d ago</span>
                        </li>
                    </ul>
                </section>
            </section>

            <!-- Today's Matches V2 - HLTV Style (V2 ONLY) -->
            <section class="widget todays-matches-v2 v2-only">
                <div class="widget-header">
                    <h3>Today's Matches</h3>
                </div>
                <div class="matches-list-v2">
                    <!-- Match 1 - LIVE -->
                    <div class="match-card-v2 live">
                        <div class="match-teams-v2">
                            <div class="team-row">
                                <img src="images/Team Logos/Spirit.png" alt="Spirit" class="team-logo-xs">
                                <span class="team-name">Spirit</span>
                            </div>
                            <div class="team-row">
                                <img src="images/Team Logos/G2.png" alt="G2" class="team-logo-xs">
                                <span class="team-name">G2</span>
                            </div>
                        </div>
                        <div class="match-score-col">
                            <span class="team-score win">13</span>
                            <span class="team-score lose">10</span>
                        </div>
                    </div>
                    <!-- Match 2 - LIVE -->
                    <div class="match-card-v2 live">
                        <div class="match-teams-v2">
                            <div class="team-row">
                                <img src="images/Team Logos/FaZe.png" alt="FaZe" class="team-logo-xs">
                                <span class="team-name">FaZe</span>
                            </div>
                            <div class="team-row">
                                <img src="images/Team Logos/The MongolZ.png" alt="MongolZ" class="team-logo-xs">
                                <span class="team-name">MongolZ</span>
                            </div>
                        </div>
                        <div class="match-score-col">
                            <span class="team-score lose">7</span>
                            <span class="team-score win">11</span>
                        </div>
                    </div>
                    <!-- Match 3 -->
                    <div class="match-card-v2">
                        <div class="match-teams-v2">
                            <div class="team-row">
                                <img src="images/Team Logos/Natus Vincere.png" alt="NAVI" class="team-logo-xs">
                                <span class="team-name">NAVI</span>
                            </div>
                            <div class="team-row">
                                <img src="images/Team Logos/HEROIC.png" alt="HEROIC" class="team-logo-xs">
                                <span class="team-name">HEROIC</span>
                            </div>
                        </div>
                        <span class="match-time-center">14:00</span>
                    </div>
                    <!-- Match 4 -->
                    <div class="match-card-v2">
                        <div class="match-teams-v2">
                            <div class="team-row">
                                <img src="images/Team Logos/Vitality.png" alt="Vitality" class="team-logo-xs">
                                <span class="team-name">Vitality</span>
                            </div>
                            <div class="team-row">
                                <img src="images/Team Logos/MOUZ.png" alt="MOUZ" class="team-logo-xs">
                                <span class="team-name">MOUZ</span>
                            </div>
                        </div>
                        <span class="match-time-center">16:30</span>
                    </div>
                    <!-- Match 5 -->
                    <div class="match-card-v2">
                        <div class="match-teams-v2">
                            <div class="team-row">
                                <img src="images/Team Logos/Liquid.png" alt="Liquid" class="team-logo-xs">
                                <span class="team-name">Liquid</span>
                            </div>
                            <div class="team-row">
                                <img src="images/Team Logos/Astralis.png" alt="Astralis" class="team-logo-xs">
                                <span class="team-name">Astralis</span>
                            </div>
                        </div>
                        <span class="match-time-center">19:00</span>
                    </div>
                    <!-- Match 6 -->
                    <div class="match-card-v2">
                        <div class="match-teams-v2">
                            <div class="team-row">
                                <img src="images/Team Logos/ENCE.png" alt="ENCE" class="team-logo-xs">
                                <span class="team-name">ENCE</span>
                            </div>
                            <div class="team-row">
                                <img src="images/Team Logos/BIG.png" alt="BIG" class="team-logo-xs">
                                <span class="team-name">BIG</span>
                            </div>
                        </div>
                        <span class="match-time-center">20:00</span>
                    </div>
                    <!-- Match 7 -->
                    <div class="match-card-v2">
                        <div class="match-teams-v2">
                            <div class="team-row">
                                <img src="images/Team Logos/fnatic.png" alt="fnatic" class="team-logo-xs">
                                <span class="team-name">fnatic</span>
                            </div>
                            <div class="team-row">
                                <img src="images/Team Logos/Eternal Fire.png" alt="Eternal Fire" class="team-logo-xs">
                                <span class="team-name">Eternal Fire</span>
                            </div>
                        </div>
                        <span class="match-time-center">21:30</span>
                    </div>
                    <!-- Match 8 -->
                    <div class="match-card-v2">
                        <div class="match-teams-v2">
                            <div class="team-row">
                                <img src="images/Team Logos/Complexity.png" alt="Complexity" class="team-logo-xs">
                                <span class="team-name">Complexity</span>
                            </div>
                            <div class="team-row">
                                <img src="images/Team Logos/Virtus.pro.png" alt="VP" class="team-logo-xs">
                                <span class="team-name">Virtus.pro</span>
                            </div>
                        </div>
                        <span class="match-time-center">23:00</span>
                    </div>
                </div>
            </section>

            <!-- Right Sidebar - User's Team Events -->
            <aside class="sidebar sidebar-right">
                <!-- Your Upcoming Events -->
                <section class="widget your-events">
                    <div class="widget-header">
                        <h3>Your Schedule</h3>
                        <span class="team-badge">
                            <img src="images/Team Logos/Spirit.png" alt="Spirit" class="team-logo-xs"> Spirit
                        </span>
                    </div>

                    <!-- Event 1 -->
                    <div class="event-block">
                        <div class="event-header">
                            <span class="event-icon">üèÜ</span>
                            <div class="event-info">
                                <h4 class="event-name">IEM Cologne 2025</h4>
                                <span class="event-date">Dec 20 - Dec 28</span>
                            </div>
                            <span class="event-status ongoing">Ongoing</span>
                        </div>
                        <ul class="event-matches">
                            <li class="event-match">
                                <div class="match-row">
                                    <span class="match-round">QUARTERFINAL</span>
                                    <span class="match-date">Dec 22</span>
                                </div>
                                <div class="match-row">
                                    <span class="opponent">vs NAVI <img src="images/Team Logos/Natus Vincere.png"
                                            alt="NAVI" class="team-logo-xs"></span>
                                    <span class="match-time">18:00</span>
                                </div>
                            </li>
                            <li class="event-match potential">
                                <div class="match-row">
                                    <span class="match-round">SEMIFINAL</span>
                                    <span class="match-date">Dec 24</span>
                                </div>
                                <div class="match-row">
                                    <span class="opponent">vs TBD</span>
                                    <span class="match-time">TBD</span>
                                </div>
                            </li>
                        </ul>
                    </div>

                    <div class="event-separator"></div>

                    <!-- Event 2 -->
                    <div class="event-block">
                        <div class="event-header">
                            <span class="event-icon">üí•</span>
                            <div class="event-info">
                                <h4 class="event-name">BLAST Premier: Spring</h4>
                                <span class="event-date">Jan 15 - Jan 22</span>
                            </div>
                            <span class="event-status upcoming">Upcoming</span>
                        </div>
                        <ul class="event-matches">
                            <li class="event-match">
                                <div class="match-row">
                                    <span class="match-round">GROUP A</span>
                                    <span class="match-date">Jan 15</span>
                                </div>
                                <div class="match-row">
                                    <span class="opponent">vs G2 <img src="images/Team Logos/G2.png" alt="G2"
                                            class="team-logo-xs"></span>
                                    <span class="match-time">15:00</span>
                                </div>
                            </li>
                            <li class="event-match">
                                <div class="match-row">
                                    <span class="match-round">GROUP A</span>
                                    <span class="match-date">Jan 16</span>
                                </div>
                                <div class="match-row">
                                    <span class="opponent">vs FaZe <img src="images/Team Logos/FaZe.png" alt="FaZe"
                                            class="team-logo-xs"></span>
                                    <span class="match-time">18:00</span>
                                </div>
                            </li>
                        </ul>
                    </div>
                </section>

                <!-- Recent Transfers - V1 ONLY (right sidebar) -->
                <section class="widget recent-transfers v1-only">
                    <div class="widget-header">
                        <h3>Recent Transfers</h3>
                        <a href="#" class="widget-link">View all <span class="arrow-icon">‚ûú</span></a>
                    </div>
                    <ul class="transfers-list">
                        <li class="transfer-item">
                            <div class="player-mini">
                                <span class="player-avatar-sm">üë§</span>
                                <span class="player-name">cadiaN</span>
                            </div>
                            <div class="transfer-flow">
                                <span class="from-team">Heroic</span>
                                <span class="arrow">‚ûú</span>
                                <span class="to-team">G2</span>
                            </div>
                        </li>
                        <li class="transfer-item">
                            <div class="player-mini">
                                <span class="player-avatar-sm">üë§</span>
                                <span class="player-name">huNter</span>
                            </div>
                            <div class="transfer-flow">
                                <span class="from-team">G2</span>
                                <span class="arrow">‚ûú</span>
                                <span class="to-team">FaZe</span>
                            </div>
                        </li>
                        <li class="transfer-item">
                            <div class="player-mini">
                                <span class="player-avatar-sm">üë§</span>
                                <span class="player-name">Twistzz</span>
                            </div>
                            <div class="transfer-flow">
                                <span class="from-team">FaZe</span>
                                <span class="arrow">‚ûú</span>
                                <span class="to-team">Liquid</span>
                            </div>
                        </li>
                    </ul>
                </section>
            </aside>
        </div>
    </main>

    <!-- Match Overview Version Switcher Panel (Development/Testing) -->
    <div class="version-switcher-panel" id="versionSwitcherPanel">
        <div class="version-switcher-header">
            <span>Match Overview</span>
            <button class="version-switcher-toggle" id="versionSwitcherToggle">‚àí</button>
        </div>
        <div class="version-switcher-buttons" id="versionSwitcherButtons">
            <button class="version-btn active" data-version="v1">V1</button>
            <button class="version-btn" data-version="v2">V2</button>
            <button class="version-btn" data-version="v3">V3</button>
        </div>
    </div>

    <script src="dashboard.js"></script>
    <script>
        // Initialize v2 and v2.5 elements as hidden
        document.querySelectorAll('.v2-only').forEach(el => {
            el.style.display = 'none';
        });
        document.querySelectorAll('.v2-5-only').forEach(el => {
            el.style.display = 'none';
        });

        // Listen for version switch messages from parent (prototype-compare.html)
        window.addEventListener('message', function (event) {
            if (event.data && event.data.type === 'switchVersion') {
                const version = event.data.version;

                // Toggle v1-only visibility
                document.querySelectorAll('.v1-only').forEach(el => {
                    el.style.display = version === 'v1' ? '' : 'none';
                });

                // Toggle v2-only visibility
                document.querySelectorAll('.v2-only').forEach(el => {
                    el.style.display = version === 'v2' || version === 'v2.5' ? '' : 'none';
                });

                // Toggle v1-v2-only visibility (featured article - hidden on v2.5)
                document.querySelectorAll('.v1-v2-only').forEach(el => {
                    el.style.display = (version === 'v1' || version === 'v2') ? '' : 'none';
                });

                // Toggle v2-5-only visibility (match overview)
                document.querySelectorAll('.v2-5-only').forEach(el => {
                    if (version === 'v2.5') {
                        // For match overview sections, show V1 by default, hide V2
                        if (el.id === 'matchOverview') {
                            el.style.display = 'flex';
                        } else if (el.id === 'matchOverviewV2') {
                            el.style.display = 'none';
                        } else {
                            el.style.display = 'block';
                        }
                    } else {
                        el.style.display = 'none';
                    }
                });

                // Adjust grid for v2 and v2.5
                const container = document.querySelector('.dashboard-container');
                if (container) {
                    if (version === 'v2' || version === 'v2.5') {
                        container.style.gridTemplateColumns = '220px minmax(0, 1fr) 180px 280px';
                        container.style.gap = '16px';
                    } else {
                        container.style.gridTemplateColumns = '';
                        container.style.gap = '';
                    }
                }
            }
        });

        // =============================================
        // V2.5 Match Selection Functionality
        // =============================================

        // Match data for the demo (in production, this would come from an API)
        const matchesData = [
            {
                id: 0,
                isLive: true,
                event: 'IEM Cologne 2025',
                team1: { name: 'Spirit', logo: 'images/Team Logos/Spirit.png', score: 13 },
                team2: { name: 'G2', logo: 'images/Team Logos/G2.png', score: 10 },
                currentMap: 'Mirage',
                round: 23,
                maps: [
                    { name: 'Mirage', score: '13-10', live: true, picker: 'team1' },
                    { name: 'Inferno', score: '‚Äî', live: false, picker: 'team2' },
                    { name: 'Anubis', score: '‚Äî', live: false, picker: 'decider' }
                ],
                team1Roster: [
                    { name: 'donk', avatar: 'images/Player Images/donk.png', role: 'Opener', kills: 28, assists: 4, deaths: 14, adr: 118 },
                    { name: 'magixx', avatar: 'images/Player Images/magixx.png', role: 'Closer', kills: 22, assists: 3, deaths: 16, adr: 92 },
                    { name: 'zont1x', avatar: 'images/Player Images/zont1x.png', role: 'Support', kills: 19, assists: 6, deaths: 15, adr: 78 },
                    { name: 'sh1ro', avatar: 'images/Player Images/sh1ro.png', role: 'AWP', kills: 20, assists: 2, deaths: 12, adr: 85 },
                    { name: 'chopper', avatar: null, role: 'IGL', kills: 15, assists: 5, deaths: 18, adr: 65 }
                ],
                team2Roster: [
                    { name: 'NiKo', avatar: null, role: 'Opener', kills: 21, assists: 3, deaths: 18, adr: 88 },
                    { name: 'huNter', avatar: null, role: 'Closer', kills: 18, assists: 4, deaths: 20, adr: 75 },
                    { name: 'HooXi', avatar: null, role: 'IGL', kills: 12, assists: 7, deaths: 22, adr: 52 },
                    { name: 'm0NESY', avatar: null, role: 'AWP', kills: 24, assists: 2, deaths: 17, adr: 95 },
                    { name: 'nexa', avatar: null, role: 'Support', kills: 14, assists: 5, deaths: 19, adr: 62 }
                ]
            },
            {
                id: 1,
                isLive: true,
                event: 'IEM Cologne 2025',
                team1: { name: 'FaZe', logo: 'images/Team Logos/FaZe.png', score: 7 },
                team2: { name: 'MongolZ', logo: 'images/Team Logos/The MongolZ.png', score: 11 },
                currentMap: 'Ancient',
                round: 18,
                maps: [
                    { name: 'Ancient', score: '7-11', live: true, picker: 'team1' },
                    { name: 'Nuke', score: '‚Äî', live: false, picker: 'team2' },
                    { name: 'Dust2', score: '‚Äî', live: false, picker: 'decider' }
                ],
                team1Roster: [
                    { name: 'rain', avatar: null, role: 'Opener', kills: 14, assists: 3, deaths: 16, adr: 72 },
                    { name: 'ropz', avatar: null, role: 'Closer', kills: 12, assists: 4, deaths: 14, adr: 68 },
                    { name: 'karrigan', avatar: 'images/Player Images/karrigan.png', role: 'IGL', kills: 8, assists: 6, deaths: 18, adr: 48 },
                    { name: 'broky', avatar: 'images/Player Images/broky.png', role: 'AWP', kills: 18, assists: 2, deaths: 13, adr: 82 },
                    { name: 'Twistzz', avatar: 'images/Player Images/Twistzz.png', role: 'Support', kills: 11, assists: 5, deaths: 15, adr: 58 }
                ],
                team2Roster: [
                    { name: 'bLitz', avatar: null, role: 'Opener', kills: 19, assists: 4, deaths: 12, adr: 95 },
                    { name: 'Techno', avatar: null, role: 'Closer', kills: 16, assists: 3, deaths: 11, adr: 85 },
                    { name: 'mzinho', avatar: null, role: 'IGL', kills: 14, assists: 5, deaths: 14, adr: 70 },
                    { name: '910', avatar: null, role: 'AWP', kills: 21, assists: 2, deaths: 10, adr: 102 },
                    { name: 'Senzu', avatar: null, role: 'Support', kills: 13, assists: 6, deaths: 13, adr: 65 }
                ]
            },
            {
                id: 2,
                isLive: false,
                event: 'IEM Cologne 2025',
                team1: { name: 'NAVI', logo: 'images/Team Logos/Natus Vincere.png' },
                team2: { name: 'HEROIC', logo: 'images/Team Logos/HEROIC.png' },
                startTime: '14:00',
                h2h: { team1Wins: 5, team2Wins: 3 },
                team1Roster: [
                    { name: 'jL', avatar: null, role: 'Opener' },
                    { name: 'b1t', avatar: null, role: 'Closer' },
                    { name: 'Aleksib', avatar: null, role: 'IGL' },
                    { name: 'w0nderful', avatar: null, role: 'AWP' },
                    { name: 'iM', avatar: null, role: 'Support' }
                ],
                team2Roster: [
                    { name: 'TeSeS', avatar: null, role: 'Opener' },
                    { name: 'sjuush', avatar: null, role: 'Closer' },
                    { name: 'NertZ', avatar: null, role: 'IGL' },
                    { name: 'kyxsan', avatar: null, role: 'AWP' },
                    { name: 'jabbi', avatar: null, role: 'Support' }
                ]
            }
        ];

        let selectedMatchId = 0;

        // Function to select a match and update the widget
        function selectMatch(matchId) {
            const match = matchesData.find(m => m.id === matchId);
            if (!match) return;

            selectedMatchId = matchId;

            // Update match cards selection state
            document.querySelectorAll('.match-card-v2').forEach((card, index) => {
                card.classList.toggle('selected', index === matchId);
            });

            // Update match overview widget
            const widget = document.getElementById('matchOverview');
            if (!widget) return;

            // Update event badge
            const eventBadge = widget.querySelector('.event-badge');
            if (eventBadge) eventBadge.textContent = 'üèÜ ' + match.event;

            // Update status badge
            const statusBadge = widget.querySelector('.match-status-badge');
            if (statusBadge) {
                statusBadge.textContent = match.isLive ? 'LIVE' : match.startTime;
                statusBadge.className = 'match-status-badge ' + (match.isLive ? 'live' : 'upcoming');
            }

            // Update team info
            const teams = widget.querySelector('.match-overview-teams');
            if (teams) {
                const leftSide = teams.querySelector('.team-left');
                const rightSide = teams.querySelector('.team-right');

                if (leftSide) {
                    leftSide.querySelector('.team-logo-lg').src = match.team1.logo;
                    leftSide.querySelector('.team-logo-lg').alt = match.team1.name;
                    leftSide.querySelector('.team-name').textContent = match.team1.name;
                    const score1 = leftSide.querySelector('.team-score');
                    if (match.isLive) {
                        score1.textContent = match.team1.score;
                        score1.className = 'team-score ' + (match.team1.score > match.team2.score ? 'win' : 'lose');
                        score1.style.display = '';
                    } else {
                        score1.style.display = 'none';
                    }
                }

                if (rightSide) {
                    rightSide.querySelector('.team-logo-lg').src = match.team2.logo;
                    rightSide.querySelector('.team-logo-lg').alt = match.team2.name;
                    rightSide.querySelector('.team-name').textContent = match.team2.name;
                    const score2 = rightSide.querySelector('.team-score');
                    if (match.isLive) {
                        score2.textContent = match.team2.score;
                        score2.className = 'team-score ' + (match.team2.score > match.team1.score ? 'win' : 'lose');
                        score2.style.display = '';
                    } else {
                        score2.style.display = 'none';
                    }
                }

                // Update center (map / vs)
                const matchVs = teams.querySelector('.match-vs');
                if (matchVs) {
                    const mapSpan = matchVs.querySelector('.current-map');
                    const roundSpan = matchVs.querySelector('.round-indicator');
                    if (match.isLive) {
                        mapSpan.textContent = match.currentMap;
                        roundSpan.textContent = 'Round ' + match.round;
                    } else {
                        mapSpan.textContent = 'VS';
                        roundSpan.textContent = match.startTime;
                    }
                }
            }

            // Update map history
            const mapHistory = widget.querySelector('.map-history');
            if (mapHistory && match.maps) {
                const mapItems = mapHistory.querySelectorAll('.map-item');
                match.maps.forEach((map, i) => {
                    if (mapItems[i]) {
                        mapItems[i].querySelector('.map-name').textContent = map.name;
                        mapItems[i].querySelector('.map-score').textContent = map.score;
                        const statusEl = mapItems[i].querySelector('.map-status');
                        if (statusEl) {
                            statusEl.style.display = map.live ? '' : 'none';
                        }
                    }
                });
                mapHistory.style.display = match.isLive ? '' : 'none';
            }

            // Update rosters
            updateRoster(widget.querySelector('.team1-roster'), match.team1Roster, match.isLive);
            updateRoster(widget.querySelector('.team2-roster'), match.team2Roster, match.isLive);

            // ===== Also update V2 widget =====
            const widgetV2 = document.getElementById('matchOverviewV2');
            if (widgetV2) {
                // Update event badge
                const eventBadgeV2 = widgetV2.querySelector('.mo-v2-header .event-badge');
                if (eventBadgeV2) eventBadgeV2.textContent = 'üèÜ ' + match.event;

                // Update status badge
                const statusBadgeV2 = widgetV2.querySelector('.mo-v2-header .match-status-badge');
                if (statusBadgeV2) {
                    statusBadgeV2.textContent = match.isLive ? 'LIVE' : match.startTime;
                    statusBadgeV2.className = 'match-status-badge ' + (match.isLive ? 'live' : 'upcoming');
                }

                // Update team info
                const teamsV2 = widgetV2.querySelector('.mo-v2-teams');
                if (teamsV2) {
                    const leftTeam = teamsV2.querySelector('.mo-v2-team:not(.team-right)');
                    const rightTeam = teamsV2.querySelector('.mo-v2-team.team-right');

                    if (leftTeam) {
                        leftTeam.querySelector('.team-logo-lg').src = match.team1.logo;
                        leftTeam.querySelector('.team-name').textContent = match.team1.name;
                        const score1 = leftTeam.querySelector('.team-score');
                        if (match.isLive) {
                            score1.textContent = match.team1.score;
                            score1.className = 'team-score ' + (match.team1.score > match.team2.score ? 'win' : 'lose');
                            score1.style.display = '';
                        } else {
                            score1.style.display = 'none';
                        }
                    }

                    if (rightTeam) {
                        rightTeam.querySelector('.team-logo-lg').src = match.team2.logo;
                        rightTeam.querySelector('.team-name').textContent = match.team2.name;
                        const score2 = rightTeam.querySelector('.team-score');
                        if (match.isLive) {
                            score2.textContent = match.team2.score;
                            score2.className = 'team-score ' + (match.team2.score > match.team1.score ? 'win' : 'lose');
                            score2.style.display = '';
                        } else {
                            score2.style.display = 'none';
                        }
                    }

                    // Update center (map / round)
                    const centerV2 = teamsV2.querySelector('.mo-v2-center');
                    if (centerV2) {
                        const mapSpan = centerV2.querySelector('.current-map');
                        const roundSpan = centerV2.querySelector('.round-indicator');
                        if (mapSpan && roundSpan) {
                            if (match.isLive) {
                                mapSpan.textContent = match.currentMap;
                                roundSpan.textContent = 'Round ' + match.round;
                            } else {
                                mapSpan.textContent = 'VS';
                                roundSpan.textContent = match.startTime;
                            }
                        }
                    }
                }

                // Update V2 player rows
                updateV2Rosters(widgetV2, match.team1Roster, match.team2Roster, match.isLive);

                // Update V2 map tabs from match.maps
                updateV2MapTabs(widgetV2, match);
            }
        }

        // Function to update V2 map tabs from match data
        function updateV2MapTabs(widgetV2, match) {
            const mapTabsContainer = widgetV2.querySelector('.mo-v2-map-tabs');
            if (!mapTabsContainer) return;

            // Hide map tabs for upcoming matches (no maps data)
            if (!match.maps || !match.isLive) {
                mapTabsContainer.style.display = 'none';
                return;
            }

            // Show map tabs for live matches
            mapTabsContainer.style.display = 'flex';

            const mapTabs = mapTabsContainer.querySelectorAll('.map-tab');

            match.maps.forEach((map, i) => {
                if (mapTabs[i]) {
                    const tab = mapTabs[i];
                    const nameEl = tab.querySelector('.map-tab-name');
                    const scoreEl = tab.querySelector('.map-tab-score');

                    // Update map name
                    if (nameEl) nameEl.textContent = map.name;

                    // Update data-map attribute for the tab click handler
                    tab.dataset.map = map.name.toLowerCase();

                    // Update score display
                    if (scoreEl) {
                        if (map.live) {
                            // Currently playing map
                            scoreEl.textContent = map.score;
                            scoreEl.className = 'map-tab-score';
                            tab.classList.add('active');
                        } else if (map.score && map.score !== '‚Äî') {
                            // Completed map - parse score to determine winner
                            scoreEl.textContent = map.score;
                            const [s1, s2] = map.score.split('-').map(s => parseInt(s.trim()));
                            if (!isNaN(s1) && !isNaN(s2)) {
                                scoreEl.className = 'map-tab-score ' + (s1 > s2 ? 'team1-win' : 'team2-win');
                            } else {
                                scoreEl.className = 'map-tab-score';
                            }
                            tab.classList.remove('active');
                        } else {
                            // Unplayed map (decider)
                            scoreEl.textContent = map.picker === 'decider' ? 'Decider' : '‚Äî';
                            scoreEl.className = 'map-tab-score upcoming';
                            tab.classList.remove('active');
                        }
                    }
                }
            });
        }

        function updateRoster(rosterEl, players, showStats) {
            if (!rosterEl || !players) return;
            const cards = rosterEl.querySelectorAll('.player-card');
            players.forEach((player, i) => {
                if (cards[i]) {
                    const avatarEl = cards[i].querySelector('.player-avatar');
                    if (player.avatar) {
                        avatarEl.outerHTML = `<img src="${player.avatar}" alt="${player.name}" class="player-avatar">`;
                    } else {
                        avatarEl.outerHTML = `<div class="player-avatar placeholder">üë§</div>`;
                    }
                    cards[i].querySelector('.player-name').textContent = player.name;
                    const roleEl = cards[i].querySelector('.player-role');
                    roleEl.textContent = player.role;
                    roleEl.className = 'player-role ' + player.role.toLowerCase();

                    const statsEl = cards[i].querySelector('.player-stats');
                    if (statsEl) {
                        if (showStats && player.kills !== undefined) {
                            statsEl.querySelector('.kills').textContent = player.kills;
                            statsEl.querySelector('.deaths').textContent = player.deaths;
                            statsEl.style.display = '';
                        } else {
                            statsEl.style.display = 'none';
                        }
                    }
                }
            });
        }

        // Update V2 horizontal player rows
        function updateV2Rosters(widgetV2, team1Roster, team2Roster, showStats) {
            if (!widgetV2 || !team1Roster || !team2Roster) return;

            const playerRows = widgetV2.querySelectorAll('.mo-v2-player-row');
            playerRows.forEach((row, i) => {
                // Update left player (team1)
                const playerLeft = row.querySelector('.player-left');
                if (playerLeft && team1Roster[i]) {
                    const player1 = team1Roster[i];
                    const avatar1 = playerLeft.querySelector('.player-avatar-sm');
                    if (avatar1) {
                        if (player1.avatar) {
                            if (avatar1.tagName === 'IMG') {
                                avatar1.src = player1.avatar;
                            } else {
                                avatar1.outerHTML = `<img src="${player1.avatar}" alt="${player1.name}" class="player-avatar-sm">`;
                            }
                        } else {
                            if (avatar1.tagName !== 'DIV') {
                                avatar1.outerHTML = `<div class="player-avatar-sm placeholder">üë§</div>`;
                            }
                        }
                    }
                    const nameEl = playerLeft.querySelector('.player-name');
                    if (nameEl) nameEl.textContent = player1.name;
                    const roleEl = playerLeft.querySelector('.player-role');
                    if (roleEl) {
                        roleEl.textContent = player1.role;
                        roleEl.className = 'player-role ' + player1.role.toLowerCase();
                    }
                }

                // Update left stats
                const statsLeft = row.querySelector('.player-stats-left');
                if (statsLeft) {
                    if (showStats && team1Roster[i] && team1Roster[i].kills !== undefined) {
                        const player1 = team1Roster[i];
                        statsLeft.querySelector('.stat-k').textContent = player1.kills;
                        statsLeft.querySelector('.stat-a').textContent = player1.assists;
                        statsLeft.querySelector('.stat-d').textContent = player1.deaths;
                        statsLeft.querySelector('.stat-adr').textContent = player1.adr;
                    } else {
                        // Show dashes for upcoming matches
                        statsLeft.querySelector('.stat-k').textContent = '‚Äî';
                        statsLeft.querySelector('.stat-a').textContent = '‚Äî';
                        statsLeft.querySelector('.stat-d').textContent = '‚Äî';
                        statsLeft.querySelector('.stat-adr').textContent = '‚Äî';
                    }
                }

                // Update right player (team2)
                const playerRight = row.querySelector('.player-right');
                if (playerRight && team2Roster[i]) {
                    const player2 = team2Roster[i];
                    const avatar2 = playerRight.querySelector('.player-avatar-sm');
                    if (avatar2) {
                        if (player2.avatar) {
                            if (avatar2.tagName === 'IMG') {
                                avatar2.src = player2.avatar;
                            } else {
                                avatar2.outerHTML = `<img src="${player2.avatar}" alt="${player2.name}" class="player-avatar-sm">`;
                            }
                        } else {
                            if (avatar2.tagName !== 'DIV') {
                                avatar2.outerHTML = `<div class="player-avatar-sm placeholder">üë§</div>`;
                            }
                        }
                    }
                    const nameEl = playerRight.querySelector('.player-name');
                    if (nameEl) nameEl.textContent = player2.name;
                    const roleEl = playerRight.querySelector('.player-role');
                    if (roleEl) {
                        roleEl.textContent = player2.role;
                        roleEl.className = 'player-role ' + player2.role.toLowerCase();
                    }
                }

                // Update right stats
                const statsRight = row.querySelector('.player-stats-right');
                if (statsRight) {
                    if (showStats && team2Roster[i] && team2Roster[i].kills !== undefined) {
                        const player2 = team2Roster[i];
                        statsRight.querySelector('.stat-adr').textContent = player2.adr;
                        statsRight.querySelector('.stat-d').textContent = player2.deaths;
                        statsRight.querySelector('.stat-a').textContent = player2.assists;
                        statsRight.querySelector('.stat-k').textContent = player2.kills;
                    } else {
                        // Show dashes for upcoming matches
                        statsRight.querySelector('.stat-adr').textContent = '‚Äî';
                        statsRight.querySelector('.stat-d').textContent = '‚Äî';
                        statsRight.querySelector('.stat-a').textContent = '‚Äî';
                        statsRight.querySelector('.stat-k').textContent = '‚Äî';
                    }
                }
            });
        }

        // Add click listeners to match cards
        document.addEventListener('DOMContentLoaded', function () {
            const matchCards = document.querySelectorAll('.match-card-v2');
            matchCards.forEach((card, index) => {
                card.style.cursor = 'pointer';
                card.addEventListener('click', () => selectMatch(index));
            });

            // Select first live match by default
            const firstLiveIndex = matchesData.findIndex(m => m.isLive);
            if (firstLiveIndex >= 0) {
                selectMatch(firstLiveIndex);
            }
        });

        // =============================================
        // Match Overview Version Switcher
        // =============================================

        (function () {
            const toggleBtn = document.getElementById('versionSwitcherToggle');
            const buttonsContainer = document.getElementById('versionSwitcherButtons');
            const versionBtns = document.querySelectorAll('.version-btn');
            const matchOverviewV1 = document.getElementById('matchOverview');
            const matchOverviewV2 = document.getElementById('matchOverviewV2');

            // Toggle panel collapse
            if (toggleBtn && buttonsContainer) {
                toggleBtn.addEventListener('click', function () {
                    buttonsContainer.classList.toggle('collapsed');
                    toggleBtn.textContent = buttonsContainer.classList.contains('collapsed') ? '+' : '‚àí';
                });
            }

            // Version switching - toggle visibility between V1 and V2
            versionBtns.forEach(btn => {
                btn.addEventListener('click', function () {
                    const version = this.dataset.version;

                    // Update active button
                    versionBtns.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');

                    // Toggle visibility between versions
                    if (matchOverviewV1 && matchOverviewV2) {
                        if (version === 'v1') {
                            matchOverviewV1.style.display = 'flex';
                            matchOverviewV2.style.display = 'none';
                        } else if (version === 'v2') {
                            matchOverviewV1.style.display = 'none';
                            matchOverviewV2.style.display = 'flex';
                        } else if (version === 'v3') {
                            // V3 placeholder - show V2 for now, can be replaced later
                            matchOverviewV1.style.display = 'none';
                            matchOverviewV2.style.display = 'flex';
                        }
                    }

                    console.log('Switched to Match Overview ' + version.toUpperCase());
                });
            });

            // Initialize - DON'T auto-show, let the v2-5-only class control initial visibility
            // Only set up the internal state (V2 should be hidden when V1 is shown)
            // The version switcher panel will toggle between them once V2.5 is active
            if (matchOverviewV2) {
                matchOverviewV2.style.display = 'none';
            }
        })();

        // =============================================
        // V2 Map Tab Switching
        // =============================================

        (function () {
            const mapTabs = document.querySelectorAll('.map-tab');
            const currentMapDisplay = document.getElementById('v2CurrentMap');
            const team1ScoreDisplay = document.getElementById('v2Team1Score');
            const team2ScoreDisplay = document.getElementById('v2Team2Score');

            // Map data for demo - includes per-map player stats
            const mapData = {
                ancient: {
                    name: 'ANCIENT',
                    team1Score: 16,
                    team2Score: 8,
                    team1Win: true,
                    team1Stats: [
                        { kills: 24, assists: 5, deaths: 10, adr: 105 },
                        { kills: 20, assists: 4, deaths: 12, adr: 88 },
                        { kills: 18, assists: 7, deaths: 11, adr: 76 },
                        { kills: 22, assists: 3, deaths: 9, adr: 92 },
                        { kills: 14, assists: 6, deaths: 14, adr: 62 }
                    ],
                    team2Stats: [
                        { kills: 15, assists: 4, deaths: 16, adr: 68 },
                        { kills: 12, assists: 3, deaths: 18, adr: 55 },
                        { kills: 10, assists: 5, deaths: 20, adr: 45 },
                        { kills: 18, assists: 2, deaths: 15, adr: 75 },
                        { kills: 11, assists: 4, deaths: 17, adr: 50 }
                    ]
                },
                mirage: {
                    name: 'MIRAGE',
                    team1Score: 13,
                    team2Score: 10,
                    team1Win: true,
                    team1Stats: [
                        { kills: 28, assists: 4, deaths: 14, adr: 118 },
                        { kills: 22, assists: 3, deaths: 16, adr: 92 },
                        { kills: 19, assists: 6, deaths: 15, adr: 78 },
                        { kills: 20, assists: 2, deaths: 12, adr: 85 },
                        { kills: 15, assists: 5, deaths: 18, adr: 65 }
                    ],
                    team2Stats: [
                        { kills: 21, assists: 3, deaths: 18, adr: 88 },
                        { kills: 18, assists: 4, deaths: 20, adr: 75 },
                        { kills: 12, assists: 7, deaths: 22, adr: 52 },
                        { kills: 24, assists: 2, deaths: 17, adr: 95 },
                        { kills: 14, assists: 5, deaths: 19, adr: 62 }
                    ]
                },
                nuke: {
                    name: 'NUKE',
                    team1Score: '‚Äî',
                    team2Score: '‚Äî',
                    team1Win: null,
                    team1Stats: null,  // Unplayed map
                    team2Stats: null
                }
            };

            // Helper function to update V2 player stats from map data
            function updateV2StatsFromMap(team1Stats, team2Stats) {
                const playerRows = document.querySelectorAll('#matchOverviewV2 .mo-v2-player-row');
                playerRows.forEach((row, i) => {
                    const statsLeft = row.querySelector('.player-stats-left');
                    if (statsLeft) {
                        if (team1Stats && team1Stats[i]) {
                            statsLeft.querySelector('.stat-k').textContent = team1Stats[i].kills;
                            statsLeft.querySelector('.stat-a').textContent = team1Stats[i].assists;
                            statsLeft.querySelector('.stat-d').textContent = team1Stats[i].deaths;
                            statsLeft.querySelector('.stat-adr').textContent = team1Stats[i].adr;
                        } else {
                            statsLeft.querySelector('.stat-k').textContent = '‚Äî';
                            statsLeft.querySelector('.stat-a').textContent = '‚Äî';
                            statsLeft.querySelector('.stat-d').textContent = '‚Äî';
                            statsLeft.querySelector('.stat-adr').textContent = '‚Äî';
                        }
                    }

                    const statsRight = row.querySelector('.player-stats-right');
                    if (statsRight) {
                        if (team2Stats && team2Stats[i]) {
                            statsRight.querySelector('.stat-adr').textContent = team2Stats[i].adr;
                            statsRight.querySelector('.stat-d').textContent = team2Stats[i].deaths;
                            statsRight.querySelector('.stat-a').textContent = team2Stats[i].assists;
                            statsRight.querySelector('.stat-k').textContent = team2Stats[i].kills;
                        } else {
                            statsRight.querySelector('.stat-adr').textContent = '‚Äî';
                            statsRight.querySelector('.stat-d').textContent = '‚Äî';
                            statsRight.querySelector('.stat-a').textContent = '‚Äî';
                            statsRight.querySelector('.stat-k').textContent = '‚Äî';
                        }
                    }
                });
            }

            mapTabs.forEach((tab, tabIndex) => {
                tab.addEventListener('click', function () {
                    // Get the currently selected match from matchesData
                    const match = matchesData.find(m => m.id === selectedMatchId);
                    if (!match || !match.maps || !match.maps[tabIndex]) {
                        console.log('No map data for tab index:', tabIndex);
                        return;
                    }

                    const mapInfo = match.maps[tabIndex];

                    // Update active tab
                    mapTabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');

                    // Update displayed map info in the teams header
                    if (currentMapDisplay) {
                        currentMapDisplay.textContent = mapInfo.name.toUpperCase();
                    }

                    // Parse scores from the map score (e.g., "13-10" -> [13, 10])
                    let team1MapScore = '‚Äî';
                    let team2MapScore = '‚Äî';
                    let team1Win = null;

                    if (mapInfo.score && mapInfo.score !== '‚Äî') {
                        const scoreParts = mapInfo.score.split('-').map(s => s.trim());
                        if (scoreParts.length === 2) {
                            team1MapScore = scoreParts[0];
                            team2MapScore = scoreParts[1];
                            const s1 = parseInt(scoreParts[0]);
                            const s2 = parseInt(scoreParts[1]);
                            if (!isNaN(s1) && !isNaN(s2)) {
                                team1Win = s1 > s2;
                            }
                        }
                    }

                    if (team1ScoreDisplay) {
                        team1ScoreDisplay.textContent = team1MapScore;
                        team1ScoreDisplay.className = 'team-score ' + (team1Win === true ? 'win' : team1Win === false ? 'lose' : '');
                    }
                    if (team2ScoreDisplay) {
                        team2ScoreDisplay.textContent = team2MapScore;
                        team2ScoreDisplay.className = 'team-score ' + (team1Win === false ? 'win' : team1Win === true ? 'lose' : '');
                    }

                    // Update round indicator - show "Round X" for live map, "Map N" for upcoming maps
                    const roundIndicator = document.querySelector('#matchOverviewV2 .round-indicator');
                    if (roundIndicator) {
                        if (mapInfo.live) {
                            roundIndicator.textContent = 'Round ' + match.round;
                        } else {
                            // Show "Map 2", "Map 3" etc. for non-live maps
                            roundIndicator.textContent = 'Map ' + (tabIndex + 1);
                        }
                    }

                    // Look up per-map stats from mapData if available (keyed by map name)
                    const mapKey = mapInfo.name.toLowerCase();
                    const perMapStats = mapData[mapKey];
                    if (perMapStats) {
                        updateV2StatsFromMap(perMapStats.team1Stats, perMapStats.team2Stats);
                    } else {
                        // No per-map stats available - show match roster stats or dashes
                        if (mapInfo.score === '‚Äî' || !mapInfo.live) {
                            // Unplayed map - show dashes
                            updateV2StatsFromMap(null, null);
                        } else {
                            // Use overall match roster stats
                            updateV2StatsFromMap(
                                match.team1Roster.map(p => ({ kills: p.kills, assists: p.assists, deaths: p.deaths, adr: p.adr })),
                                match.team2Roster.map(p => ({ kills: p.kills, assists: p.assists, deaths: p.deaths, adr: p.adr }))
                            );
                        }
                    }

                    console.log('Switched to map: ' + mapInfo.name);
                });
            });
        })();
    </script>
</body>

</html>